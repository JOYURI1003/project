$.fn.accordion = function() {
    var a = $(this);
    var c = 5;
    var e = null;
    a.children("li").each(function(f) {
        $(this).css("left", f * 150)
    });

    function b(f) {
        a.children("li").eq(f).stop().animate({
            left: f * 150 + "px"
        }, 1200);
        a.children("li").eq(f).nextAll().each(function(g) {
            $(this).stop().animate({
                left: 1200 + f * 150 + g * 150 + "px"
            }, 1200)
        });
        a.children("li").eq(f).prevAll().each(function(g) {
            $(this).stop().animate({
                left: (f - g - 1) * 150 + "px"
            }, 1200)
        })
    }
    a.children("li").mouseenter(function() {
        var f = a.children("li").index(this);
        c = f;
        b(f);
        clearTimeout(e);
        d()
    });

    function d() {
        e = setTimeout(function() {
            if (c >= 5) {
                c = 0
            } else {
                c++
            }
            b(c);
            d()
        }, 5000)
    }
    d()
};